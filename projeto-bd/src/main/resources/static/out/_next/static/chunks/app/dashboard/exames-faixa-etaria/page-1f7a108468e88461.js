(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7155],{82402:function(e,a,t){Promise.resolve().then(t.bind(t,10203))},10203:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return F}});var s=t(57437),n=t(2265),l=t(36013),r=t(50495),o=t(46294),i=t(95137),c=t(87385),d=t(94207),m=t(68879),x=t(30690),h=t(87138),u=t(35231),f=t(25974),g=t(54142),p=t(2842),j=t(9542),N=t(85475),v=t(20153),E=t(45745),w=t(85822);let M=(e=>{let a=[],t=["Raio-X","Ultrassonografia","Tomografia Computadorizada","Resson\xe2ncia Magn\xe9tica","Ecocardiograma","Mamografia","Densitometria \xd3ssea","Eletrocardiograma (ECG)","Endoscopia Digestiva Alta","Colonoscopia","Exames de Sangue","Teste Ergom\xe9trico"],s=[2020,2021,2022,2023,2024,2025];return e.forEach(e=>{let n=Math.floor(2*Math.random())+1;for(let l=0;l<n;l++){let n=s[Math.floor(Math.random()*s.length)];a.push({id:"ex".concat(a.length),pacienteId:e.id,pacienteIdade:e.idade,pacienteFaixaEtaria:e.faixaEtaria,tipo:t[Math.floor(Math.random()*t.length)],data:new Date(n,Math.floor(12*Math.random()),Math.floor(28*Math.random())+1)})}}),a})((e=>{let a=[],t=[{nome:"18-35 anos",min:18,max:35},{nome:"36-60 anos",min:36,max:60},{nome:"60+ anos",min:61,max:90}];for(let e=0;e<500;e++){let s=t[Math.floor(Math.random()*t.length)];a.push({id:"p".concat(e),idade:Math.floor(Math.random()*(s.max-s.min+1))+s.min,faixaEtaria:s.nome})}return a})(0)),y=["18-35 anos","36-60 anos","60+ anos"],S={"18-35 anos":"#0088FE","36-60 anos":"#00C49F","60+ anos":"#FFBB28"},b=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];function F(){let[e,a]=(0,n.useState)([]),[t,F]=(0,n.useState)(new Date().getFullYear()),[C,D]=(0,n.useState)(!1),[Z,k]=(0,n.useState)([]);(0,n.useEffect)(()=>{let e=[...new Set(M.map(e=>e.data.getFullYear()))].sort((e,a)=>a-e);a(e),e.length>0&&!e.includes(t)?F(e[0]):0===e.length&&F(new Date().getFullYear())},[]),(0,n.useEffect)(()=>{t&&(D(!0),setTimeout(()=>{let e=M.filter(e=>e.data.getFullYear()===t);k(b.map((a,t)=>{let s={nomeMes:a};return y.forEach(e=>{s[e]=0}),e.forEach(e=>{e.data.getMonth()===t&&s.hasOwnProperty(e.pacienteFaixaEtaria)&&s[e.pacienteFaixaEtaria]++}),s})),D(!1)},700))},[t]);let A=(0,n.useMemo)(()=>{let e={};return y.forEach(a=>{let t=a.replace(/\s|\+/g,"-");e[a]={label:a,color:"hsl(var(--chart-".concat(t,"))")}}),e},[]),z=y.reduce((e,a)=>{let t=a.replace(/\s|\+/g,"-");return"#0088FE"===S[a]?e["--chart-".concat(t)]="207 100% 50%":"#00C49F"===S[a]?e["--chart-".concat(t)]="165 100% 38%":"#FFBB28"===S[a]?e["--chart-".concat(t)]="45 100% 57%":e["--chart-".concat(t)]="240 60% 60%",e},{});return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",style:z,children:(0,s.jsxs)("main",{className:"max-w-6xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-10",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Comparativo de Exames por Faixa Et\xe1ria"}),(0,s.jsx)("p",{className:"text-gray-500 mt-1",children:"An\xe1lise mensal do volume de exames, comparando faixas et\xe1rias."})]}),(0,s.jsx)(h.default,{href:"/",children:(0,s.jsxs)(r.z,{variant:"outline",className:"flex items-center space-x-2 hover:bg-gray-100",children:[(0,s.jsx)(i.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Voltar"})]})})]}),(0,s.jsxs)(l.Zb,{className:"mb-8 shadow-md",children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsxs)(l.ll,{className:"text-lg flex items-center",children:[(0,s.jsx)(c.Z,{className:"h-5 w-5 mr-2 text-primary"}),"Selecione o Ano"]}),(0,s.jsx)(l.SZ,{children:"Filtre os dados de exames pelo ano de realiza\xe7\xe3o."})]}),(0,s.jsx)(l.aY,{children:e.length>0?(0,s.jsxs)(o.Select,{value:null==t?void 0:t.toString(),onValueChange:e=>F(parseInt(e)),children:[(0,s.jsx)(o.SelectTrigger,{id:"ano-select",className:"w-full md:w-1/2 lg:w-1/3",children:(0,s.jsx)(o.SelectValue,{placeholder:"Selecione o Ano"})}),(0,s.jsx)(o.SelectContent,{children:e.map(e=>(0,s.jsx)(o.SelectItem,{value:e.toString(),children:e},e))})]}):(0,s.jsx)("p",{className:"text-gray-500",children:"Nenhum ano com dados dispon\xedveis."})})]}),C?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-80",children:[(0,s.jsx)(d.Z,{className:"h-12 w-12 text-primary animate-spin mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 text-lg",children:"Analisando dados anuais..."})]}):Z.length>0&&t?(0,s.jsxs)(l.Zb,{className:"shadow-xl hover:shadow-2xl transition-shadow duration-300",children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsxs)(l.ll,{className:"text-xl flex items-center text-indigo-600",children:[(0,s.jsx)(m.Z,{className:"h-6 w-6 mr-3"}),"Comparativo Mensal de Exames por Faixa Et\xe1ria - ",t]}),(0,s.jsx)(l.SZ,{children:"Volume de exames realizados mensalmente, comparando as diferentes faixas et\xe1rias."})]}),(0,s.jsx)(l.aY,{className:"h-[450px] pt-6",children:(0,s.jsx)(w.BO,{config:A,className:"w-full h-full",children:(0,s.jsx)(u.h,{width:"100%",height:"100%",children:(0,s.jsxs)(f.v,{data:Z,margin:{top:5,right:20,left:0,bottom:5},children:[(0,s.jsx)(g.q,{strokeDasharray:"3 3",vertical:!1}),(0,s.jsx)(p.K,{dataKey:"nomeMes",tickLine:!1,axisLine:!1,tickMargin:8,fontSize:12}),(0,s.jsx)(j.B,{tickLine:!1,axisLine:!1,tickMargin:8,fontSize:12,allowDecimals:!1}),(0,s.jsx)(N.u,{cursor:{fill:"hsl(var(--muted))"},content:(0,s.jsx)(w.dg,{indicator:"dot",hideLabel:!0})}),(0,s.jsx)(v.D,{content:(0,s.jsx)(w.cD,{nameKey:"name",className:"text-xs"}),wrapperStyle:{paddingTop:"20px"}}),y.map(e=>{var a;return(0,s.jsx)(E.$,{dataKey:e,fill:null===(a=A[e])||void 0===a?void 0:a.color,radius:[4,4,0,0]},e)})]})})})})]}):(0,s.jsx)(l.Zb,{className:"mt-8 shadow-md",children:(0,s.jsx)(l.aY,{className:"pt-6",children:(0,s.jsxs)("div",{className:"text-center py-16",children:[(0,s.jsx)(x.Z,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),(0,s.jsx)("h3",{className:"mt-2 text-xl font-semibold text-gray-800",children:"Nenhum Dado de Exame Encontrado"}),(0,s.jsxs)("p",{className:"mt-2 text-md text-gray-500",children:["N\xe3o foram encontrados registros de exames para o ano de ",t||"N/A","."]}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Tente selecionar outro ano ou verifique se h\xe1 dados de exames carregados."})]})})})]})})}}},function(e){e.O(0,[231,2967,3361,9804,5974,5850,811,2971,7023,1744],function(){return e(e.s=82402)}),_N_E=e.O()}]);